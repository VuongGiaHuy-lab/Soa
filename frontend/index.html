<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Salon Booking</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1 class="brand">Salon Booking</h1>
      <nav class="nav">
        <a href="#home" data-view>Home</a>
        <a href="#auth" data-view>Auth</a>
        <a href="#browse" data-view>Browse</a>
        <a href="#booking" data-view>Booking</a>
        <a href="#my-bookings" data-view onclick="loadMyBookings()">My Bookings</a>
        <a href="#owner" data-view>Owner</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section id="home" class="view active">
      <h2>Welcome</h2>
      <p>Use the tabs above to register/login, browse services, and manage bookings.</p>
      <form class="form grid">
        <label>API Base URL</label>
        <input id="apiBase" value="http://localhost:8000" />
        <div id="status" class="status">Not logged in</div>
      </form>
    </section>

    <section id="auth" class="view">
      <h2>Authentication</h2>
      <div class="grid-two">
        <form class="card" onsubmit="register(event)">
          <h3>Register</h3>
          <label>Email</label>
          <input id="regEmail" type="email" required />
          <label>Full Name</label>
          <input id="regName" />
          <label>Password</label>
          <input id="regPass" type="password" minlength="8" required />
          <button type="submit">Register</button>
        </form>

        <form class="card" onsubmit="login(event)">
          <h3>Login</h3>
          <label>Email</label>
          <input id="loginEmail" type="email" required />
          <label>Password</label>
          <input id="loginPass" type="password" required />
          <button type="submit">Login</button>
          <p style="margin-top:10px; font-size: 0.9em;">
            <a href="/forgot-password">Forgot Password?</a>
          </p>
        </form>
      </div>
    </section>

    <section id="browse" class="view">
      <h2>Browse</h2>
      <div class="grid-two">
        <div class="card">
          <div class="card-actions">
            <button onclick="listServices()">List Services</button>
          </div>
          <pre id="servicesList" class="output"></pre>
        </div>
        <div class="card">
          <div class="card-actions">
            <button onclick="listStylists()">List Stylists</button>
          </div>
          <pre id="stylistsList" class="output"></pre>
        </div>
      </div>
    </section>

    <section id="booking" class="view">
      <h2>Booking</h2>
      <div class="grid-two">
        <form class="card" onsubmit="checkAvailability(event)">
          <h3>1. Check Availability</h3>
          <label>Service ID</label>
          <input id="availServiceId" type="number" required />
          <label>Date (YYYY-MM-DD)</label>
          <input id="availDate" type="date" required />
          <label>Stylist ID (required)</label>
          <input id="availStylistId" type="number" required />
          <button type="submit">Check</button>
          <pre id="availOut" class="output"></pre>
        </form>

        <form class="card" onsubmit="createBooking(event)">
          <h3>2. Create Booking</h3>
          <label>Service ID</label>
          <input id="bkServiceId" type="number" required />
          <label>Stylist ID</label>
          <input id="bkStylistId" type="number" required />
          <label>Start Time (ISO)</label>
          <input id="bkStart" placeholder="2025-12-07T10:00:00" required />
          <button type="submit">Book</button>
          <pre id="bkOut" class="output"></pre>
        </form>
      </div>
    </section>

    <section id="my-bookings" class="view">
      <h2>My Bookings</h2>
      <div class="card">
        <div class="card-actions">
          <button onclick="loadMyBookings()">Refresh List</button>
        </div>
        <div id="myBookingsList" class="output"></div>
      </div>
      
      <div class="grid-two" style="margin-top: 1rem;">
        <form class="card" onsubmit="payBooking(event)">
            <h3>Pay for Booking</h3>
            <label>Booking ID</label>
            <input id="payBookingId" type="number" required />
            <label>Amount</label>
            <input id="payAmount" type="number" value="20" required />
            <div class="grid-two">
              <div>
                <label>Card Number</label>
                <input id="payCard" value="4242424242424242" required />
              </div>
              <div>
                <label>CVV</label>
                <input id="payCVV" value="123" required />
              </div>
            </div>
            <div class="grid-two">
              <div>
                <label>Expiry Month</label>
                <input id="payMonth" type="number" value="12" required />
              </div>
              <div>
                <label>Expiry Year</label>
                <input id="payYear" type="number" value="2099" required />
              </div>
            </div>
            <label>Cardholder Name</label>
            <input id="payName" value="Alice" required />
            <button type="submit">Pay Now</button>
            <pre id="payOut" class="output"></pre>
        </form>
      </div>
    </section>

    <section id="owner" class="view">
      <h2>Owner Panel</h2>
      <form class="card" onsubmit="createService(event)">
        <h3>Create Service</h3>
        <label>Name</label>
        <input id="svcName" value="Basic Cut" required />
        <label>Description</label>
        <input id="svcDesc" value="Haircut" />
        <div class="grid-two">
          <div>
            <label>Price</label>
            <input id="svcPrice" type="number" value="20" required />
          </div>
          <div>
            <label>Duration (minutes)</label>
            <input id="svcDur" type="number" value="60" required />
          </div>
        </div>
        <button type="submit">Create Service</button>
        <pre id="svcOut" class="output"></pre>
      </form>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>&copy; 2025 Salon Booking</small>
    </div>
  </footer>

  <script src="/static/app.js"></script>
</body>
</html>